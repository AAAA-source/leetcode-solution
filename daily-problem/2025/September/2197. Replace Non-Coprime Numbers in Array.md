# Intuition
<!-- Describe your first thoughts on how to solve this problem. -->
The problem asks us to repeatedly replace adjacent non-coprime numbers with their LCM until no more replacements can be made.  
A stack can be used to simulate this process efficiently: we push numbers one by one, and whenever the new number and the stack top are non-coprime, we replace them with their LCM.  
# Approach
<!-- Describe your approach to solving the problem. -->
1. Iterate over each number in the input array
    - While the stack is not empty and the top element shares a GCD > 1 with the current number:
        - Pop the stack top.
        - Replace the current number with the LCM of the two numbers.
  - Push the current number into the stack.
2. At the end, the stack contains the final modified array.
# Complexity
- Time complexity: $$O(n log M)$$, where `M` is the maximum number in the array.

<!-- Add your time complexity here, e.g. $$O(n)$$ -->

- Space complexity: $$O(n)$$
<!-- Add your space complexity here, e.g. $$O(n)$$ -->

# Code
```cpp []
class Solution {
public:
    vector<int> replaceNonCoprimes(vector<int>& nums) {
        vector<int> st;
        for(int x : nums){
            while(!st.empty()){
                int g = gcd(x, st.back());
                if(g == 1){
                    break;
                }
                x = st.back() / g * x;
                st.pop_back();
            }
            st.push_back(x);
        }
        return st;
    }
};
```
